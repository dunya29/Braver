document.querySelector(".preloader")&&window.addEventListener("load",(e=>{enableScroll(),disableScroll(),setTimeout((()=>{document.body.classList.add("loaded"),setTimeout((()=>{enableScroll()}),500)}),100)}));const header=document.querySelector(".header"),menuMobileBtn=document.querySelector(".menu-mobile__btn"),mobMenu=document.querySelector(".mob-menu"),iconMenu=document.querySelector(".icon-menu"),modal=document.querySelectorAll(".modal"),modOpenBtn=document.querySelectorAll(".mod-open-btn"),modCloseBtn=document.querySelectorAll(".mod-close-btn"),successModal=document.querySelector(".success-mod"),errorModal=document.querySelector(".error-mod"),dropdown=document.querySelectorAll(".dropdown");let tablet=1270.98,mobDevice=767.98,animSpd=400;function sprite(e){return'<svg><use xlink:href="img/icons/sprite.svg#'+e+'"></use></svg>'}function scrollPos(){return window.pageYOffset||document.documentElement.scrollTop}function setVh(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)}function enableScroll(){document.querySelectorAll(".fixed-block")&&document.querySelectorAll(".fixed-block").forEach((e=>e.style.paddingRight="0px")),document.body.style.paddingRight="0px",document.body.classList.remove("no-scroll")}function disableScroll(){let e=window.innerWidth>350?window.innerWidth-document.documentElement.clientWidth+"px":0;document.querySelectorAll(".fixed-block")&&document.querySelectorAll(".fixed-block").forEach((t=>t.style.paddingRight=e)),document.body.style.paddingRight=e,document.body.classList.add("no-scroll")}function smoothDrop(e,t,r=!1){let o=r||500;if(t.style.overflow="hidden",t.style.transition=`height ${o}ms ease`,t.style["-webkit-transition"]=`height ${o}ms ease`,e.classList.contains("active")){e.classList.remove("animated");let r=t.clientHeight+"px";t.style.height=r,setTimeout((function(){t.style.height="0",setTimeout((()=>{t.style.display="none",t.style.height=null,e.classList.remove("active")}),o)}),0)}else{e.classList.add("animated"),t.style.display="block";let r=t.clientHeight+"px";t.style.height="0px",setTimeout((function(){t.style.height=r,setTimeout((()=>{t.style.height=null,e.classList.add("active")}),o)}),0)}}function tabSwitch(e,t){e.forEach(((r,o)=>{r.addEventListener("click",(()=>{e.forEach((e=>{e.classList.remove("active")})),t.forEach((e=>{e.classList.remove("active")})),r.classList.add("active"),t[o].classList.add("active"),r.style.opacity="0",t[o].style.opacity="0",setTimeout((()=>{r.style.opacity="1",t[o].style.opacity="1"}),0)}))}))}setVh(),Fancybox.defaults={...Fancybox.defaults,Hash:!1,Thumbs:!1,Toolbar:{display:{left:[],middle:[],right:["close"]}},on:{init:(e,t)=>{disableScroll()},destroy:(e,t)=>{enableScroll()}}},Fancybox.bind("[data-fancybox]",{contentClick:"iterateZoom",Images:{Panzoom:{maxScale:2}}});const customScroll=document.querySelectorAll(".custom-scroll");let isFirefox="undefined"!=typeof InstallTrigger;isFirefox&&(document.documentElement.style.scrollbarColor="#202020 #ffffff",customScroll&&customScroll.forEach((e=>{e.style.scrollbarColor="#202020 ffffff"})));let lastScroll=scrollPos();window.addEventListener("scroll",(()=>{scrollPos()>1?(header.classList.add("scroll"),header.classList.contains("header--main")&&header.classList.remove("header--light"),scrollPos()>lastScroll&&scrollPos()>150&&!header.classList.contains("unshow")?header.classList.add("unshow"):scrollPos()<lastScroll&&header.classList.contains("unshow")&&header.classList.remove("unshow")):(header.classList.remove("scroll"),header.classList.remove("unshow"),header.classList.contains("header--main")&&header.classList.add("header--light")),lastScroll=scrollPos()}));const switchBlock=document.querySelectorAll(".switch-block");function openModal(e){let t=document.querySelector(".modal.open");t||header.classList.contains("show-mobMenu")||disableScroll(),t&&t.classList.remove("open"),e.classList.add("open")}function closeModal(e){e.classList.remove("open"),setTimeout((()=>{header.classList.contains("show-mobMenu")||enableScroll()}),animSpd)}function openDropdown(e){e.classList.contains("stock-filter")&&disableScroll(),e.classList.add("open"),e.setAttribute("aria-expanded",!0),e.querySelectorAll(".dropdown__options input").length>0&&e.querySelectorAll(".dropdown__options input").forEach((t=>{t.addEventListener("change",(t=>{setActiveOption(e)}))})),document.addEventListener("click",(function t(r){e.contains(r.target)||(closeDropdown(e),document.removeEventListener("click",t))}))}function setActiveOption(e){if(e.querySelector(".dropdown__header").classList.add("checked"),e.classList.contains("radio-select")){let t=e.querySelector("input:checked").nextElementSibling.innerHTML;e.querySelector(".dropdown__header span").innerHTML=t}}function closeDropdown(e){e.classList.contains("stock-filter")&&enableScroll(),e.classList.remove("open"),e.setAttribute("aria-expanded",!1)}function setSuccessTxt(e=!1,t=!1,r=!1){successModal.querySelector("h3").textContent=e||"Заявка отправлена",successModal.querySelector(".main-btn span").textContent=r||"Закрыть",t&&(successModal.querySelector("p").textContent=t)}function setErrorTxt(e=!1,t=!1,r=!1){errorModal.querySelector("h3").textContent=e||"Что-то пошло не так",errorModal.querySelector(".main-btn span").textContent=r||"Закрыть",t&&(errorModal.querySelector("p").textContent=t)}function openSuccessMod(e=!1,t=!1,r=!1){setSuccessTxt(!1,!1),openModal(successModal)}function openErrorMod(e=!1,t=!1,r=!1){setErrorTxt(!1,!1),openModal(errorModal)}function formSuccess(e,t=!1,r=!1){e.querySelectorAll(".item-form").forEach((e=>e.classList.remove("error"))),e.querySelectorAll("input").forEach((e=>{["hidden","checkbox","radio"].includes(e.type)||(e.value=""),["checkbox","radio"].includes(e.type)&&!e.classList.contains("required")&&(e.checked=!1)})),e.querySelector("textarea")&&(e.querySelector("textarea").value=""),e.querySelector(".file-form__items")&&(e.querySelector(".file-form__items").innerHTML=""),openSuccessMod(!1,txt=!1,!1)}function searchFormSuccess(e){e.querySelector("input[type=text]").value="",e.classList.remove("btn-show")}switchBlock&&switchBlock.forEach((e=>{tabSwitch(e.querySelectorAll("[data-nav]"),e.querySelectorAll("[data-block]"))})),modal&&modal.forEach((e=>{e.addEventListener("click",(t=>{(!e.querySelector(".modal__content").contains(t.target)||e.querySelector(".btn-close").contains(t.target)||e.querySelector(".modal__close")&&e.querySelector(".modal__close").contains(t.target))&&closeModal(e)}))})),modOpenBtn&&modOpenBtn.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();let r=e.getAttribute("data-modal");openModal(document.getElementById(r))}))})),modCloseBtn&&modCloseBtn.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();let r=e.getAttribute("data-modal");closeModal(document.getElementById(r))}))})),dropdown&&dropdown.forEach((e=>{e.querySelector(".dropdown__header").addEventListener("click",(()=>{e.classList.contains("open")?closeDropdown(e):openDropdown(e)}))}));const searchForm=document.querySelectorAll(".search-form");function showSumbitBtn(e){e.querySelector("input").value.length>0?e.classList.add("btn-show"):e.classList.remove("btn-show")}searchForm&&searchForm.forEach((e=>{showSumbitBtn(e),e.querySelector("input").addEventListener("input",(()=>showSumbitBtn(e))),e.addEventListener("reset",(()=>{e.querySelector("input").setAttribute("value",""),showSumbitBtn(e)})),e.parentNode.querySelector(".search-p__results-empty-btn")&&e.parentNode.querySelector(".search-p__results-empty-btn").addEventListener("click",(()=>{e.querySelector("input[type=text]").setAttribute("value",""),showSumbitBtn(e),setTimeout((()=>{e.querySelector("input[type=text]").focus()}),0)}))}));const inp=document.querySelectorAll("input[type=tel]");function addFile(e,t){for(let r=0;r<e.length;r++){let o=e[r];if(o.size>10485760)return t.querySelector("input").value="",t.classList.add("error"),t.querySelectorAll(".file-form__item").forEach((e=>e.remove())),void(t.querySelector(".item-form__error").textContent="Файл должен быть менее 10 МБ");if(!fileTypes.includes(o.type))return t.querySelector("input").value="",t.classList.add("error"),t.querySelectorAll(".file-form__item").forEach((e=>e.remove())),void(t.querySelector(".item-form__error").textContent="Разрешённые форматы: png, jpg, jpeg, pdf");{t.classList.remove("error"),t.classList.add("checked"),t.querySelector(".item-form__error").textContent="";let e=new FileReader;e.readAsDataURL(o),e.onload=()=>{t.querySelector(".file-form__items").insertAdjacentHTML("afterbegin",`<div class="file-form__item">\n            <div class="file-form__del"></div>\n            <div class="file-form__name">${o.name}</div>         \n         </div>\n        `)},e.onerror=()=>{console.log(e.error)}}}}inp&&inp.forEach((e=>{Inputmask({mask:"+7 (999) 999-99-99"}).mask(e)}));let fileTypes=["image/png","image/jpeg","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"];function allCheckBtn(e,t){e.addEventListener("change",(()=>{t.forEach((t=>{e.checked?(t.checked=!0,t.setAttribute("checked",!0)):(t.checked=!1,t.removeAttribute("checked"))}))})),t.forEach((r=>{r.addEventListener("change",(()=>{Array.from(t).every((e=>e.checked))?(e.checked=!0,e.setAttribute("checked",!0)):(e.checked=!1,e.removeAttribute("checked"))}))}))}document.querySelector(".file-form")&&document.querySelectorAll(".file-form").forEach((e=>{e.querySelector("input").addEventListener("change",(t=>{e.querySelectorAll(".file-form__item").forEach((e=>e.remove())),addFile(t.target.files,e)})),e.addEventListener("click",(t=>{e.querySelectorAll(".file-form__del").forEach(((r,o)=>{if(r.contains(t.target)){const t=new DataTransfer,c=e.querySelector("input"),{files:l}=c;for(let e=0;e<l.length;e++){let r=l[e];e!==o&&t.items.add(r)}c.files=t.files,setTimeout((()=>{r.parentNode.remove(),e.classList.remove("checked")}),0)}}))})),e.querySelector("label").addEventListener("dragenter",(e=>{e.preventDefault()})),e.querySelector("label").addEventListener("dragover",(e=>{e.preventDefault()})),e.querySelector("label").addEventListener("dragleave",(e=>{e.preventDefault()})),e.querySelector("label").addEventListener("drop",(function(t){t.preventDefault();const r=new DataTransfer;r.items.add(t.dataTransfer.files[0]);let o=Array.from(r.files);e.querySelector("input").files=r.files,e.querySelectorAll(".file-form__item").forEach((e=>e.remove())),addFile(o,e)}))}));const accordion=document.querySelectorAll(".accordion");accordion&&accordion.forEach((e=>{e.querySelector(".accordion__header").addEventListener("click",(()=>{e.parentNode.parentNode.querySelectorAll(".accordion").forEach((e=>{e.querySelector(".accordion__header").classList.contains("active")&&smoothDrop(e.querySelector(".accordion__header"),e.querySelector(".accordion__body"))})),smoothDrop(e.querySelector(".accordion__header"),e.querySelector(".accordion__body"))}))}));const readMore=document.querySelectorAll(".read-more");function readMoreFunc(){if(readMore){function e(){readMore.forEach((e=>{e.classList.remove("active"),e.classList.add("more-hidden");let t=e.querySelector(".read-more__content").clientHeight;e.classList.remove("more-hidden");let r=e.querySelector(".read-more__content").clientHeight;e.classList.add("more-hidden"),r>t?e.classList.add("btn-show"):e.classList.remove("btn-show")}))}e(),window.addEventListener("resize",e),readMore.forEach((e=>{let t=e.querySelector(".read-more__btn").getAttribute("data-open"),r=e.querySelector(".read-more__btn").getAttribute("data-close");e.querySelector(".read-more__btn").addEventListener("click",(()=>{if(e.classList.contains("active")){e.classList.remove("active");let r=e.querySelector(".read-more__content").clientHeight+"px";e.classList.add("more-hidden");let o=e.querySelector(".read-more__content").clientHeight+"px";e.classList.remove("more-hidden"),e.querySelector(".read-more__content").style.height=r,setTimeout((function(){e.querySelector(".read-more__content").style.height=o,e.querySelector(".read-more__btn span").textContent=t,setTimeout((()=>{e.classList.add("more-hidden"),e.querySelector(".read-more__content").style.height=null}),500)}),0)}else{e.classList.add("active");let t=e.querySelector(".read-more__content").clientHeight+"px";e.classList.remove("more-hidden");let o=e.querySelector(".read-more__content").clientHeight+"px";e.querySelector(".read-more__content").style.height=t,setTimeout((function(){e.querySelector(".read-more__content").style.height=o,e.querySelector(".read-more__btn span").textContent=r,setTimeout((()=>{e.querySelector(".read-more__content").style.height=null}),500)}),0)}}))}))}}readMoreFunc();const share=document.querySelector(".share");if(share){const e=encodeURIComponent(window.location.href),t=encodeURIComponent(document.title);let r=[{title:"VK",href:"https://vk.com/share.php?url="+e+"&title="+t},{title:"WhatsApp",href:"https://api.whatsapp.com/send?text="+encodeURIComponent(document.title+" "+window.location.href)},{title:"Телеграм",href:"https://t.me/share/url?url="+e+"&text="+t},{title:"Одноклассники",href:"https://connect.ok.ru/offer?url="+e+"&title="+t}];share.querySelectorAll(".share__list a").forEach(((e,t)=>e.setAttribute("href",r[t].href)))}iconMenu.addEventListener("click",(()=>{header.classList.contains("show-mobMenu")?(enableScroll(),header.classList.remove("show-mobMenu")):(disableScroll(),header.classList.add("show-mobMenu"))})),window.addEventListener("resize",(()=>{header.classList.contains("show-mobMenu")&&window.innerWidth>tablet&&iconMenu.click()}));const itemMenu=document.querySelectorAll(".mob-menu .menu__item.has-subnavs");itemMenu&&itemMenu.forEach((e=>{e.querySelector(".menu__header").addEventListener("click",(()=>{e.parentNode.querySelectorAll(".menu__item").forEach((e=>{e.querySelector(".menu__header").classList.contains("active")&&smoothDrop(e.querySelector(".menu__header"),e.querySelector(".menu__subnavs"))})),smoothDrop(e.querySelector(".menu__header"),e.querySelector(".menu__subnavs"))}))}));const swiper3=document.querySelectorAll(".swiper3");swiper3&&swiper3.forEach((e=>{new Swiper(e.querySelector(".swiper"),{slidesPerView:1,spaceBetween:10,observer:!0,observeParents:!0,watchSlidesProgress:!0,navigation:{prevEl:e.querySelector(".nav-btn--prev"),nextEl:e.querySelector(".nav-btn--next")},breakpoints:{1579.98:{slidesPerView:3,spaceBetween:20},767.98:{slidesPerView:3,spaceBetween:10}},speed:800})}));const swiper6=document.querySelectorAll(".swiper6");swiper6&&swiper6.forEach((e=>{new Swiper(e.querySelector(".swiper"),{slidesPerView:2,spaceBetween:10,observer:!0,observeParents:!0,watchSlidesProgress:!0,navigation:{prevEl:e.querySelector(".nav-btn--prev"),nextEl:e.querySelector(".nav-btn--next")},breakpoints:{1579.98:{slidesPerView:6,spaceBetween:20},992.98:{slidesPerView:6,spaceBetween:10},767.98:{slidesPerView:4,spaceBetween:10},575.98:{slidesPerView:3,spaceBetween:10}},speed:800})}));const newsSwiper=document.querySelectorAll(".news-swiper");newsSwiper&&newsSwiper.forEach((e=>{new Swiper(e.querySelector(".swiper"),{slidesPerView:1.2,spaceBetween:10,observer:!0,observeParents:!0,watchSlidesProgress:!0,navigation:{prevEl:e.querySelector(".nav-btn--prev"),nextEl:e.querySelector(".nav-btn--next")},breakpoints:{1579.98:{slidesPerView:3,spaceBetween:20},767.98:{slidesPerView:3,spaceBetween:10},575.98:{slidesPerView:2,spaceBetween:10}},speed:800})}));const gallery=document.querySelectorAll(".gallery");gallery&&gallery.forEach((e=>{new Swiper(e.querySelector(".swiper"),{slidesPerView:"auto",spaceBetween:10,observer:!0,observeParents:!0,watchSlidesProgress:!0,navigation:{prevEl:e.querySelector(".nav-btn--prev"),nextEl:e.querySelector(".nav-btn--next")},autoplay:{delay:3500,pauseOnMouseEnter:!0,disableOnInteraction:!1},breakpoints:{1579.98:{spaceBetween:20}},speed:800})}));const productSwiper=document.querySelector(".product-swiper");if(productSwiper){let e,t=new Swiper(productSwiper.querySelector(".swiper"),{slidesPerView:1,spaceBetween:10,loop:productSwiper.querySelectorAll(".swiper-slide").length>1,observer:!0,observeParents:!0,watchSlidesProgress:!0,navigation:{prevEl:productSwiper.querySelector(".nav-btn--prev"),nextEl:productSwiper.querySelector(".nav-btn--next")},breakpoints:{1579.98:{slidesPerView:2,spaceBetween:20},767.98:{slidesPerView:2,spaceBetween:20}},speed:800});Fancybox.bind("[data-fancybox=product_gall]",{contentClick:"iterateZoom",Images:{Panzoom:{maxScale:2}},on:{"Carousel.ready Carousel.change":t=>{e=t.carousel.page},close:(r,o)=>{t.slideTo(e)}}})}const stockFiltSec=document.querySelectorAll(".stock-filter__sec");stockFiltSec&&stockFiltSec.forEach((e=>{e.querySelector(".stock-filter__sec-header").addEventListener("click",(()=>{e.parentNode.parentNode.querySelectorAll(".stock-filter__sec").forEach((e=>{e.querySelector(".stock-filter__sec-header").classList.contains("active")&&smoothDrop(e.querySelector(".stock-filter__sec-header"),e.querySelector(".stock-filter__sec-body"))})),smoothDrop(e.querySelector(".stock-filter__sec-header"),e.querySelector(".stock-filter__sec-body"))}))}));const catStockFilter=document.querySelector(".stock-filter"),choiceFilter=document.querySelector(".choice-filter__items");if(catStockFilter&&choiceFilter){const e={unCheckInp:function(e){e.checked=!1,e.removeAttribute("checked")},setSelected:function(e){let t=e.parentNode.querySelector("span").textContent.toLowerCase(),r=e.getAttribute("data-id"),o=e.getAttribute("data-name");choiceFilter.insertAdjacentHTML("afterbegin",`<div class="choice-filter__item" data-target="${r}">${o} ${t}</div>`)},removeSelected:function(e){choiceFilter.querySelector(`[data-target="${e}"]`)&&choiceFilter.querySelector(`[data-target="${e}"]`).remove()},selectedOnClick:function(e){choiceFilter.querySelectorAll(".choice-filter__item").forEach((t=>{if(t.contains(e.target)){let e=t.getAttribute("data-target");this.unCheckInp(catStockFilter.querySelector(`label input[data-id=${e}]`)),t.remove()}}))},resetFilter:function(){catStockFilter.querySelectorAll("label input").forEach((e=>{this.unCheckInp(e)})),choiceFilter.innerHTML="",closeDropdown(catStockFilter)}};catStockFilter.querySelectorAll("label input").forEach(((t,r)=>{t.setAttribute("data-id",`arr-filter-${r}`);let o=t.getAttribute("data-id");t.addEventListener("change",(()=>{"checkbox"===t.type?t.checked?e.setSelected(t):e.removeSelected(o):"radio"===t.type&&(catStockFilter.querySelectorAll(`input[name=${t.name}]`).forEach((t=>e.removeSelected(t.getAttribute("data-id")))),e.setSelected(t))}))})),choiceFilter.addEventListener("click",(t=>e.selectedOnClick(t))),document.querySelector(".choice-filter__reset").addEventListener("click",(()=>e.resetFilter())),catStockFilter.querySelector("form").addEventListener("reset",(()=>e.resetFilter()))}const animItem=document.querySelectorAll("[data-animation]");function animate(){animItem.forEach((e=>{e.getAttribute("data-animation");let t=e.getBoundingClientRect().top+scrollPos(),r=Math.abs(window.innerHeight-.1*e.offsetHeight);if(void 0===e.offsetHeight&&(r=window.innerHeight-e.parentNode.offsetHeight/2),scrollPos()>t-r){let t=e.getAttribute("data-animation");e.classList.add(t)}}))}animItem.length>0&&(animate(),window.addEventListener("scroll",animate));